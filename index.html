<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[untitled]</title>
    <style>
        @font-face {
            font-family: 'OCR';
            src: url('https://fonts.cdnfonts.com/css/ocr-a-extended') format('woff2');
        }
        
        body {
            margin: 0;
            padding: 0;
            background-color: #000;
            color: #fff;
            font-family: 'OCR', 'Courier New', monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            cursor: none;
        }
        
        .closed-container {
            position: relative;
            text-align: center;
        }
        
        .closed-sign {
            font-size: 5vw;
            text-transform: uppercase;
            position: relative;
            letter-spacing: 0.2em;
        }
        
        .untitled {
            position: absolute;
            bottom: -5vw;
            left: 0;
            right: 0;
            font-size: 1.2vw;
            color: #555;
            text-align: center;
            opacity: 0.7;
        }
        
        .untitled::before {
            content: "[";
        }
        
        .untitled::after {
            content: "]";
        }
        
        .corner {
            position: absolute;
            width: 30px;
            height: 30px;
            border: 1px solid #333;
            opacity: 0.5;
        }
        
        .corner-tl { top: 20px; left: 20px; border-right: none; border-bottom: none; }
        .corner-tr { top: 20px; right: 20px; border-left: none; border-bottom: none; }
        .corner-bl { bottom: 20px; left: 20px; border-right: none; border-top: none; }
        .corner-br { bottom: 20px; right: 20px; border-left: none; border-top: none; }
        
        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                rgba(0, 0, 0, 0.8),
                rgba(0, 0, 0, 0.8) 1px,
                transparent 1px,
                transparent 2px
            );
            pointer-events: none;
            z-index: 1000;
        }
        
        .noise {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 999;
        }
        
        .cursor {
            position: fixed;
            width: 10px;
            height: 20px;
            background: white;
            mix-blend-mode: difference;
            pointer-events: none;
            z-index: 1001;
        }
        
        .audio-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            color: #555;
            font-size: 12px;
            cursor: pointer;
            z-index: 1002;
        }
    </style>
</head>
<body>
    <div class="noise"></div>
    <div class="scanlines"></div>
    <div class="cursor"></div>
    <div class="audio-control" id="audioControl">SON: ON</div>
    
    <div class="corner corner-tl"></div>
    <div class="corner corner-tr"></div>
    <div class="corner corner-bl"></div>
    <div class="corner corner-br"></div>
    
    <div class="closed-container">
        <div class="closed-sign" id="glitch-text">NOUS SOMMES FERMÉS :)</div>
        <div class="untitled" id="untitled">untitled</div>
    </div>

    <!-- Audio elements -->
    <audio id="cityAmbience" loop>
    <source src="city.mp3" type="audio/mpeg">
</audio>
<audio id="footsteps" loop>
    <source src="foot.mp3" type="audio/mpeg">
</audio>
    
    <script>
        // Audio system
        const cityAmbience = document.getElementById('cityAmbience');
        const footsteps = document.getElementById('footsteps');
        const audioControl = document.getElementById('audioControl');
        let audioEnabled = true;

        // Set initial volume
        cityAmbience.volume = 0.2;
        footsteps.volume = 0.2;

        // Play audio with delay to avoid autoplay restrictions
        setTimeout(() => {
            if(audioEnabled) {
                cityAmbience.play().catch(e => console.log("Audio autoplay prevented:", e));
                footsteps.play().catch(e => console.log("Audio autoplay prevented:", e));
            }
        }, 1000);

        // Toggle audio control
        audioControl.addEventListener('click', () => {
            audioEnabled = !audioEnabled;
            
            if(audioEnabled) {
                cityAmbience.play();
                footsteps.play();
                audioControl.textContent = "SON: ON";
            } else {
                cityAmbience.pause();
                footsteps.pause();
                audioControl.textContent = "SON: OFF";
            }
        });

        // Randomize footsteps playback for more natural sound
        setInterval(() => {
            if(audioEnabled && Math.random() > 0.7) {
                footsteps.currentTime = 0;
                footsteps.play();
            }
        }, 8000);

        // Effet de glitch aléatoire avancé
        function triggerGlitch() {
            const textElement = document.getElementById('glitch-text');
            const untitled = document.getElementById('untitled');
            
            // Glitch principal
            textElement.style.textShadow = '2px 0 red, -2px 0 cyan';
            textElement.style.transform = 'translateX(5px)';
            
            // Glitch du titre [untitled]
            const glitchChars = ['_', '/', '\\', '|', '~', '¤'];
            let glitched = '';
            for(let i = 0; i < 8; i++) {
                if(Math.random() > 0.3) {
                    glitched += glitchChars[Math.floor(Math.random() * glitchChars.length)];
                } else {
                    glitched += 'untitled'.charAt(i) || '';
                }
            }
            untitled.textContent = glitched;
            
            setTimeout(() => {
                textElement.style.textShadow = 'none';
                textElement.style.transform = 'none';
                untitled.textContent = 'untitled';
            }, 100 + Math.random() * 300);
        }
        
        setInterval(triggerGlitch, 3000);
        
        // Effet curseur personnalisé
        document.addEventListener('mousemove', (e) => {
            const cursor = document.querySelector('.cursor');
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
            
            if(e.target.tagName === 'A' || e.target.style.cursor === 'pointer') {
                cursor.style.width = '30px';
                cursor.style.height = '30px';
                cursor.style.borderRadius = '50%';
            } else {
                cursor.style.width = '10px';
                cursor.style.height = '20px';
                cursor.style.borderRadius = '0';
            }
        });
        
        // Effet de corruption aléatoire
        setInterval(() => {
            if(Math.random() > 0.8) {
                document.body.style.filter = 'contrast(150%) brightness(80%)';
                setTimeout(() => {
                    document.body.style.filter = 'none';
                }, 200);
            }
        }, 5000);
        
        // Animation d'apparition
        document.addEventListener('DOMContentLoaded', () => {
            const text = "NOUS SOMMES FERMÉS";
            const element = document.getElementById('glitch-text');
            element.textContent = "";
            
            let i = 0;
            const typing = setInterval(() => {
                if (i < text.length) {
                    element.textContent += text.charAt(i);
                    i++;
                } else {
                    clearInterval(typing);
                }
            }, 100);
        });
    </script>
</body>
</html>
